<UserControl x:Class="Client.Views.ProfileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="#F0F2F5">

    <Grid>
        <Border Width="400" Padding="20" Background="White" CornerRadius="10"
                VerticalAlignment="Center" HorizontalAlignment="Center">
            <StackPanel>
                <!-- Заголовок -->
                <TextBlock Text="Профиль пользователя" 
                           FontSize="20" 
                           FontWeight="Bold" 
                           HorizontalAlignment="Center" 
                           Margin="0,0,0,20"/>

                <!-- Информация о пользователе -->
                <TextBlock Text="Имя:"/>
                <TextBlock Text="{Binding UserProfile.Nickname}" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,10"/>

                <TextBlock Text="Email:"/>
                <TextBlock Text="{Binding UserProfile.Email}" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,10"/>

                <!-- Хранилище -->
                <TextBlock Text="Хранилище:" 
                           Margin="0,10,0,0"/>
                <ProgressBar Value="{Binding StoragePercentage}" 
                             Height="10" 
                             Margin="0,5"/>
                <TextBlock Text="{Binding UsedStorageFormatted, StringFormat={}{0} из {1}}"
                           HorizontalAlignment="Center" 
                           FontSize="12" 
                           Foreground="Gray" 
                           Margin="0,0,0,10"/>

                <!-- Количество файлов -->
                <TextBlock Text="Файлов:"/>
                <TextBlock Text="{Binding UserProfile.FilesCount}" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,20"/>

                <!-- Ошибка (просто текст, без конвертера) -->
                <TextBlock Text="{Binding ErrorMessage}" 
                           Foreground="Red" 
                           TextWrapping="Wrap" 
                           Margin="0,0,0,10"/>

                <!-- Кнопки -->
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Center" 
                            Margin="0,10,0,0">
                    <Button Content="Обновить" 
                            Command="{Binding RefreshCommand}" 
                            Width="100" 
                            Margin="0,0,10,0"/>
                    <Button Content="Сменить пароль" 
                            Command="{Binding ChangePasswordCommand}" 
                            Width="120"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Center" 
                            Margin="0,10,0,0">
                    <Button Content="Выйти" 
                            Command="{Binding LogoutCommand}" 
                            Width="100" 
                            Background="#FF4444" 
                            Foreground="White" 
                            BorderBrush="Transparent" 
                            Margin="0,0,10,0"/>
                    <Button Content="Назад" 
                            Command="{Binding BackCommand}" 
                            Width="100"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>

